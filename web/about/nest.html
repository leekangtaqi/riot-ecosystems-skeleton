require('./test1.html');
require('./test2.html');
<nest show = {show}>
    <div>nest</div>
    <ul>
        <li><a href="/about/nest/_111/test1">{opts.route.path}</a></li>
        <li><a href="/about/nest/_111/test2">test2</a></li>
    </ul>
    <test1></test1>
    <test2></test2>
    <script>
        import {connect} from '../framework/riot-redux';
        import actions from '../todo/todo.actions';
        connect(
            (state)=>({
                route: state.route
            }),
            (dispatch)=>({
                getTodos: ()=>{dispatch(actions.getTodos())}
            })
        )(this);
        this.mixin('router');
        var me = this;
        this.$routeConfig([
            {
                path: '/test1',
                name: 'test1',
                resolve: async function(next){
                    await me.opts.getTodos();
                    next();
                }
            },
            {
                path: '/test2',
                name: 'test2',
                resolve: function(next){
                    next();
                }
            }
        ])
    </script>
</nest>