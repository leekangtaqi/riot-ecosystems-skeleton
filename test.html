<html>
    <header>
        <script src="./node_modules/riot/riot.js"></script>
    </header>
    <body>
        <test></test>
        <script>
//            name, html, css, attrs, fn
            riot.tag('test', `
                <div>{test.name}</div>
            `, function(){
                var me = this;
                this.test = {
                    name: '111',
                    auth: {
                        token: '222'
                    }
                }
                this.on('update', function(){
                    console.log("****")
                })
                setTimeout(function(){
                    var val1 = me.test;
                    me.test = {
                        name: '111',
                        auth: {
                            token: '222'
                        }
                    };
                    var val2 = me.test;
                    console.log(val1)
                    console.log(val2)
                    console.log(val1 === val2)
                    me.update({test: {name: '222'}});
                }, 1000)
            })
            riot.mount('*');
        </script>
    </body>
</html>